"use strict";var __decorate=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(c=(r<3?i(c):3<r?i(e,o,c):i(e,o))||c);return 3<r&&c&&Object.defineProperty(e,o,c),c};exports.__esModule=!0;var core_1=require("@angular/core"),LoginComponent=function(){function t(t,e,o){this.router=t,this.authenticationService=e,this.notificationService=o,this.subscriptions=[]}return t.prototype.ngOnInit=function(){this.authenticationService.isUserLoggedIn()&&(this.authenticationService.isUserLoggedIn()?this.router.navigateByUrl("/user/management"):this.router.navigateByUrl("/login"))},t.prototype.onLogin=function(t){var o=this;this.showLoading=!0,console.log(t),this.subscriptions.push(this.authenticationService.login(t).subscribe(function(t){var e=t.headers.get("Jwt_Token");o.authenticationService.saveToken(e),o.authenticationService.addUserToLocalCache(t.body),o.router.navigateByUrl("/user")}))},t.prototype.sendErrorNotification=function(t,e){e?this.notificationService.notify(t,e):this.notificationService.notify(t,"An error occurred. Please try again.")},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})},t=__decorate([core_1.Component({selector:"app-login",templateUrl:"./login.component.html",styleUrls:["./login.component.css"]})],t)}();exports.LoginComponent=LoginComponent;
//# sourceMappingURL=login.component.min.js.map
