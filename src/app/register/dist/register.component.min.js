"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(n<3?i(s):3<n?i(t,r,s):i(t,r))||s);return 3<n&&s&&Object.defineProperty(t,r,s),s};exports.__esModule=!0;var core_1=require("@angular/core"),forms_1=require("@angular/forms"),notificaton_type_enum_1=require("../enum/notificaton-type.enum"),RegisterComponent=function(){function e(e,t,r,o){this.formBuld=e,this.router=t,this.authenticationService=r,this.notificationService=o,this.subscriptions=[]}return e.prototype.ngOnInit=function(){this.authenticationService.isUserLoggedIn()&&this.router.navigateByUrl("/user"),this.regForm=this.formBuld.group({firstName:["",forms_1.Validators.required],lastName:["",forms_1.Validators.required],username:["",forms_1.Validators.required],email:["",forms_1.Validators.required],department:["",forms_1.Validators.required]})},e.prototype.onRegister=function(){var t=this;this.regForm.invalid||(console.log(this.regForm.value),this.showLoading=!0,this.subscriptions.push(this.authenticationService.register(this.regForm.value).subscribe({next:function(e){t.showLoading=!1,t.sendNotification(notificaton_type_enum_1.NotificationType.SUCCESS,"A new account was created for "+e.firstName+".\n          Please check your email for password to log in.")},error:function(e){t.sendNotification(notificaton_type_enum_1.NotificationType.ERROR,e.error.message),t.showLoading=!1}})))},e.prototype.sendNotification=function(e,t){t?this.notificationService.notify(e,t):this.notificationService.notify(e,"An error occurred. Please try again.")},e.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})},e=__decorate([core_1.Component({selector:"app-register",templateUrl:"./register.component.html",styleUrls:["./register.component.css"]})],e)}();exports.RegisterComponent=RegisterComponent;
//# sourceMappingURL=register.component.min.js.map
