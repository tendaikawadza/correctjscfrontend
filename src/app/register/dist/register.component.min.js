"use strict";var __decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(s=(r<3?n(s):3<r?n(t,o,s):n(t,o))||s);return 3<r&&s&&Object.defineProperty(t,o,s),s};exports.__esModule=!0;var core_1=require("@angular/core"),notificaton_type_enum_1=require("../enum/notificaton-type.enum"),RegisterComponent=function(){function e(e,t,o){this.router=e,this.authenticationService=t,this.notificationService=o,this.subscriptions=[]}return e.prototype.ngOnInit=function(){this.authenticationService.isUserLoggedIn()&&this.router.navigateByUrl("/user")},e.prototype.onRegister=function(e){var t=this;this.showLoading=!0,this.subscriptions.push(this.authenticationService.register(e).subscribe({next:function(e){t.showLoading=!1,t.sendNotification(notificaton_type_enum_1.NotificationType.SUCCESS,"A new account was created for "+e.firstName+".\n          Please check your email for password to log in.")},error:function(e){t.sendNotification(notificaton_type_enum_1.NotificationType.ERROR,e.error.message),t.showLoading=!1}}))},e.prototype.sendNotification=function(e,t){t?this.notificationService.notify(e,t):this.notificationService.notify(e,"An error occurred. Please try again.")},e.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})},e=__decorate([core_1.Component({selector:"app-register",templateUrl:"./register.component.html",styleUrls:["./register.component.css"]})],e)}();exports.RegisterComponent=RegisterComponent;
//# sourceMappingURL=register.component.min.js.map
